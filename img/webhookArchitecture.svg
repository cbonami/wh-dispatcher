<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="642px" preserveAspectRatio="none" style="width:695px;height:642px;" version="1.1" viewBox="0 0 695 642" width="695px" zoomAndPan="magnify"><defs><filter height="300%" id="f17do5byjm3rdx" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#ADD8E6" height="630.1406" style="stroke:#A80036;stroke-width:1.0;" width="269" x="187.5" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="127" x="258.5" y="19.4951">WebhookDispatcher</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="20" x2="20" y1="89.6094" y2="548.5313"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="119.5" x2="119.5" y1="89.6094" y2="548.5313"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="215.5" x2="215.5" y1="89.6094" y2="548.5313"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="279.5" x2="279.5" y1="89.6094" y2="548.5313"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="385.5" x2="385.5" y1="89.6094" y2="548.5313"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="624.5" x2="624.5" y1="89.6094" y2="548.5313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="12" x="11" y="86.5332">UI</text><ellipse cx="20" cy="15" fill="#FF0000" filter="url(#f17do5byjm3rdx)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M20,23 L20,50 M7,31 L33,31 M20,50 L7,65 M20,50 L33,65 " fill="none" filter="url(#f17do5byjm3rdx)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="12" x="11" y="562.0645">UI</text><ellipse cx="20" cy="575.1406" fill="#FF0000" filter="url(#f17do5byjm3rdx)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M20,583.1406 L20,610.1406 M7,591.1406 L33,591.1406 M20,610.1406 L7,625.1406 M20,610.1406 L33,625.1406 " fill="none" filter="url(#f17do5byjm3rdx)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f17do5byjm3rdx)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="119" x="58.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105" x="65.5" y="74.5332">SomeApplication</text><rect fill="#FEFECE" filter="url(#f17do5byjm3rdx)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="119" x="58.5" y="547.5313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105" x="65.5" y="569.0645">SomeApplication</text><rect fill="#FEFECE" filter="url(#f17do5byjm3rdx)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="45" x="191.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="198.5" y="74.5332">redis</text><rect fill="#FEFECE" filter="url(#f17do5byjm3rdx)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="45" x="191.5" y="547.5313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="198.5" y="569.0645">redis</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52" x="250.5" y="86.5332">datagrid</text><ellipse cx="279.5" cy="56" fill="#D3D3D3" filter="url(#f17do5byjm3rdx)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="275.5,44,281.5,39,279.5,44,281.5,49,275.5,44" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52" x="250.5" y="562.0645">datagrid</text><ellipse cx="279.5" cy="581.1406" fill="#D3D3D3" filter="url(#f17do5byjm3rdx)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="275.5,569.1406,281.5,564.1406,279.5,569.1406,281.5,574.1406,275.5,569.1406" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128" x="318.5" y="86.5332">WebhookDispatcher</text><ellipse cx="385.5" cy="56" fill="#FEFECE" filter="url(#f17do5byjm3rdx)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="381.5,44,387.5,39,385.5,44,387.5,49,381.5,44" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128" x="318.5" y="562.0645">WebhookDispatcher</text><ellipse cx="385.5" cy="581.1406" fill="#FEFECE" filter="url(#f17do5byjm3rdx)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="381.5,569.1406,387.5,564.1406,385.5,569.1406,387.5,574.1406,381.5,569.1406" style="stroke:#A80036;stroke-width:1.0;"/><rect fill="#FEFECE" filter="url(#f17do5byjm3rdx)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="118" x="563.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="570.5" y="74.5332">SomeSubscriber</text><rect fill="#FEFECE" filter="url(#f17do5byjm3rdx)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="118" x="563.5" y="547.5313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="570.5" y="569.0645">SomeSubscriber</text><polygon fill="#A80036" points="204,117.9609,214,121.9609,204,125.9609,208,121.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="120" x2="210" y1="121.9609" y2="121.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="127" y="117.1045">connects to</text><polygon fill="#A80036" points="227,131.9609,217,135.9609,227,139.9609,223,135.9609" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="267.5,131.9609,277.5,135.9609,267.5,139.9609,271.5,135.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="221" x2="273.5" y1="135.9609" y2="135.9609"/><polygon fill="#A80036" points="396.5,162.3125,386.5,166.3125,396.5,170.3125,392.5,166.3125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="390.5" x2="623.5" y1="166.3125" y2="166.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="402.5" y="161.4561">Register Webhook (POST)</text><polygon fill="#A80036" points="108,192.6641,118,196.6641,108,200.6641,112,196.6641" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="20" x2="114" y1="196.6641" y2="196.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="27" y="191.8076">POST /api/...</text><polygon fill="#A80036" points="204,223.0156,214,227.0156,204,231.0156,208,227.0156" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="120" x2="210" y1="227.0156" y2="227.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="59" x="127" y="222.1592">emit event</text><polygon fill="#A80036" points="290.5,253.3672,280.5,257.3672,290.5,261.3672,286.5,257.3672" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="284.5" x2="384.5" y1="257.3672" y2="257.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="296.5" y="252.5107">listen</text><polygon fill="#A80036" points="373.5,283.7188,383.5,287.7188,373.5,291.7188,377.5,287.7188" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="279.5" x2="379.5" y1="287.7188" y2="287.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="286.5" y="282.8623">notify event</text><polygon fill="#A80036" points="612.5,314.0703,622.5,318.0703,612.5,322.0703,616.5,318.0703" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="385.5" x2="618.5" y1="318.0703" y2="318.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="215" x="392.5" y="313.2139">Send event X1 on bucket 123 (POST)</text><polygon fill="#A80036" points="373.5,344.4219,383.5,348.4219,373.5,352.4219,377.5,348.4219" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="279.5" x2="379.5" y1="348.4219" y2="348.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="12" x="286.5" y="343.5654">...</text><polygon fill="#A80036" points="373.5,374.7734,383.5,378.7734,373.5,382.7734,377.5,378.7734" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="279.5" x2="379.5" y1="378.7734" y2="378.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="12" x="286.5" y="373.917">...</text><polygon fill="#A80036" points="612.5,405.125,622.5,409.125,612.5,413.125,616.5,409.125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="385.5" x2="618.5" y1="409.125" y2="409.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170" x="392.5" y="404.2686">Send event Y1 on bucket 456</text><polygon fill="#A80036" points="612.5,435.4766,622.5,439.4766,612.5,443.4766,616.5,439.4766" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="385.5" x2="618.5" y1="439.4766" y2="439.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168" x="392.5" y="434.6201">Send event X2 on bucket 123</text><polygon fill="#A80036" points="612.5,465.8281,622.5,469.8281,612.5,473.8281,616.5,469.8281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="385.5" x2="618.5" y1="469.8281" y2="469.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170" x="392.5" y="464.9717">Send event Y2 on bucket 123</text><polygon fill="#A80036" points="612.5,496.1797,622.5,500.1797,612.5,504.1797,616.5,500.1797" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="385.5" x2="618.5" y1="500.1797" y2="500.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168" x="392.5" y="495.3232">Send event Z1 on bucket 456</text><polygon fill="#A80036" points="612.5,526.5313,622.5,530.5313,612.5,534.5313,616.5,530.5313" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="385.5" x2="618.5" y1="530.5313" y2="530.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="12" x="392.5" y="525.6748">...</text><!--MD5=[3849083ffc095851f2f87fc2ba6087a7]
@startuml webhookArchitecture
actor UI #red
SomeApplication -> redis: connects to
box "WebhookDispatcher" #lightblue
    database redis
    control datagrid #lightgrey
    redis <- -> datagrid
    control WebhookDispatcher
end box
SomeSubscriber -> WebhookDispatcher: Register Webhook (POST)
UI -> SomeApplication: POST /api/...
SomeApplication -> redis: emit event
WebhookDispatcher - -> datagrid: listen
datagrid -> WebhookDispatcher: notify event
WebhookDispatcher -> SomeSubscriber: Send event X1 on bucket 123 (POST)
datagrid -> WebhookDispatcher: ...
datagrid -> WebhookDispatcher: ...
WebhookDispatcher -> SomeSubscriber: Send event Y1 on bucket 456
WebhookDispatcher -> SomeSubscriber: Send event X2 on bucket 123
WebhookDispatcher -> SomeSubscriber: Send event Y2 on bucket 123
WebhookDispatcher -> SomeSubscriber: Send event Z1 on bucket 456
WebhookDispatcher -> SomeSubscriber: ...
@enduml

PlantUML version 1.2021.01(Tue Feb 02 08:55:08 CET 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>